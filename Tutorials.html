<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>regen: Tutorials</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="regen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="icon-small.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">regen
   &#160;<span id="projectnumber">0.1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Tutorials </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="tut_win"></a>
Creating a window</h1>
<p>Instantiate the <a class="el" href="classregen_1_1Application.html" title="Provides a render tree and keyboard/mouse events. ">regen::Application</a> and show the window. </p>
<div class="fragment"><div class="line">ref_ptr&lt;QtApplication&gt; app = ref_ptr&lt;QtApplication&gt;::alloc(argc,argv);</div>
<div class="line">app-&gt;set_windowTitle(<span class="stringliteral">&quot;My Application&quot;</span>);</div>
<div class="line">app-&gt;show();</div>
<div class="line">ref_ptr&lt;StateNode&gt; rootNode = app-&gt;renderTree();</div>
</div><!-- fragment --><p>Finally enter the main loop. This call will block until the engine exits. </p>
<div class="fragment"><div class="line">app-&gt;mainLoop();</div>
</div><!-- fragment --><h1><a class="anchor" id="tut_fbo"></a>
Creating a render target</h1>
<p>Instantiate the <a class="el" href="classregen_1_1FBO.html" title="Framebuffer Objects are a mechanism for rendering to images other than the default OpenGL Default Fra...">regen::FBO</a>. Specify texture dimensions and depth texture parameters. If you set them to anything but GL_NONE the depth texture is automatically attached. </p>
<div class="fragment"><div class="line">ref_ptr&lt;FBO&gt; fbo = <a class="code" href="classregen_1_1ref__ptr.html#ac26b25152a25a5fcbbf1541a4c4f7467">ref_ptr&lt;FBO&gt;::alloc</a>(width, height);</div>
<div class="line">ref_ptr&lt;FBOState&gt; fboState = ref_ptr&lt;FBOState&gt;::alloc(fbo);</div>
</div><!-- fragment --><p>Add a color texture to the render target. </p>
<div class="fragment"><div class="line">ref_ptr&lt;Texture&gt; colorAttachment = fbo-&gt;addTexture(</div>
<div class="line">    1,</div>
<div class="line">    GL_TEXTURE_2D,</div>
<div class="line">    GL_RGBA, GL_RGBA,</div>
<div class="line">    GL_UNSIGNED_BYTE);</div>
</div><!-- fragment --><p>Call glDrawBuffer when the <a class="el" href="classregen_1_1FBOState.html" title="Framebuffer Objects are a mechanism for rendering to images other than the default OpenGL Default Fra...">regen::FBOState</a> is traversed. </p>
<div class="fragment"><div class="line">fboState-&gt;addDrawBuffer(GL_COLOR_ATTACHMENT0);</div>
</div><!-- fragment --><p>Clear depth and color attachments when the tree is traversed. </p>
<div class="fragment"><div class="line">ClearColorState::Data clearData;</div>
<div class="line">clearData.clearColor = Vec4f(0.0f);</div>
<div class="line">clearData.colorBuffers.push_back(GL_COLOR_ATTACHMENT0);</div>
<div class="line">fboState-&gt;setClearColor(clearData);</div>
<div class="line">fboState-&gt;setClearDepth();</div>
</div><!-- fragment --><p>Attach the <a class="el" href="classregen_1_1FBO.html" title="Framebuffer Objects are a mechanism for rendering to images other than the default OpenGL Default Fra...">regen::FBO</a> to the render tree. </p>
<div class="fragment"><div class="line">ref_ptr&lt;StateNode&gt; fboNode = <a class="code" href="classregen_1_1ref__ptr.html#ac26b25152a25a5fcbbf1541a4c4f7467">ref_ptr&lt;StateNode&gt;::alloc</a>(fboState);</div>
<div class="line">rootNode-&gt;addChild(fboNode);</div>
</div><!-- fragment --><p>Display the color attachment by adding a <a class="el" href="classregen_1_1BlitToScreen.html" title="Blits a FBO color attachment to screen. ">regen::BlitToScreen</a> state to the render tree. </p>
<div class="fragment"><div class="line">ref_ptr&lt;State&gt; blitState = ref_ptr&lt;BlitToScreen&gt;::alloc(</div>
<div class="line">      fbo, screenSize, GL_COLOR_ATTACHMENT0);</div>
<div class="line">rootNode-&gt;addChild(<a class="code" href="classregen_1_1ref__ptr.html#ac26b25152a25a5fcbbf1541a4c4f7467">ref_ptr&lt;StateNode&gt;::alloc</a>(blitState));</div>
</div><!-- fragment --><h1><a class="anchor" id="tut_cube"></a>
Rendering a Box</h1>
<p>Instantiate the <a class="el" href="classregen_1_1Box.html" title="Three-dimensional solid object bounded by six square faces, facets or sides, with three meeting at ea...">regen::Box</a> mesh, the box is centered at origin. </p>
<div class="fragment"><div class="line">Box::Config boxConfig;</div>
<div class="line">boxConfig = Vec3f(1.0f);</div>
<div class="line">ref_ptr&lt;Mesh&gt; cube = ref_ptr&lt;Box&gt;::alloc(boxConfig);</div>
</div><!-- fragment --><p>Move the <a class="el" href="classregen_1_1Box.html" title="Three-dimensional solid object bounded by six square faces, facets or sides, with three meeting at ea...">regen::Box</a> center to another position using the model matrix. </p>
<div class="fragment"><div class="line">ref_ptr&lt;ModelTransformation&gt; modelMat = ref_ptr&lt;ModelTransformation&gt;::alloc();</div>
<div class="line">modelMat-&gt;translate(Vec3f(-2.0f, 0.75f, 0.0f), 0.0f);</div>
<div class="line">cube-&gt;joinStates(modelMat);</div>
</div><!-- fragment --><p>Attach a <a class="el" href="classregen_1_1Material.html" title="Provides material related uniforms. ">regen::Material</a> state to the box. </p>
<div class="fragment"><div class="line">ref_ptr&lt;Material&gt; material = ref_ptr&lt;Material&gt;::alloc();</div>
<div class="line">material-&gt;set_copper();</div>
<div class="line">cube-&gt;joinStates(material);</div>
</div><!-- fragment --><p>Attach a <a class="el" href="classregen_1_1Shader.html" title="a piece of code that is executed on the GPU. ">regen::Shader</a> state to the box. Note that the shader is not yet loaded. </p>
<div class="fragment"><div class="line">ref_ptr&lt;ShaderState&gt; shaderState = ref_ptr&lt;ShaderState&gt;::alloc();</div>
<div class="line">cube-&gt;joinStates(shaderState);</div>
</div><!-- fragment --><p>Add the box to the render tree. Use <a class="el" href="classregen_1_1FBOState.html" title="Framebuffer Objects are a mechanism for rendering to images other than the default OpenGL Default Fra...">regen::FBOState</a> as parent, so that all rendering is going to the offscreen render target. </p>
<div class="fragment"><div class="line">ref_ptr&lt;StateNode&gt; meshNode = <a class="code" href="classregen_1_1ref__ptr.html#ac26b25152a25a5fcbbf1541a4c4f7467">ref_ptr&lt;StateNode&gt;::alloc</a>(cube);</div>
<div class="line">fboState-&gt;addChild(meshNode);</div>
</div><!-- fragment --><p>Configure the shader using the hierarchical tree structure. </p>
<div class="fragment"><div class="line">StateConfigurer stateConfigurer;</div>
<div class="line">stateConfigurer.addNode(meshNode.get());</div>
</div><!-- fragment --><p>Finally compile the shader that is used to render the cube. Note that the 'regen.meshes.mesh' shader is used here. It can be considered as some kind of Uber shader that blanks out a lot of unused functionality using the shader configuration generated above. </p>
<div class="fragment"><div class="line">shaderState-&gt;createShader(stateConfigurer.cfg(), <span class="stringliteral">&quot;regen.meshes.mesh&quot;</span>);</div>
</div><!-- fragment --><h1><a class="anchor" id="tut_xml"></a>
XML Scene</h1>
<p>For now take a look at examples provided at 'applications/scene-display/examples'. </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Nov 11 2013 21:03:47 for regen by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.5
</small></address>
</body>
</html>
